<!DOCTYPE html> <html> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Reproducibility: on why and how | Mohammad Arvan</title> <meta name="author" content="Mohammad Arvan"> <meta name="description" content="Discussing the importance of reproducibility and how to address it"> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%F0%9F%8E%93%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://mo-arvan.github.io/blog/2022/reproducibility-why-how/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script src="/assets/js/distillpub/template.v2.js"></script> <script src="/assets/js/distillpub/transforms.v2.js"></script> <script src="/assets/js/distillpub/overrides.js"></script> <style type="text/css">.fake-img{background:#bbb;border:1px solid rgba(0,0,0,0.1);box-shadow:0 0 4px rgba(0,0,0,0.1);margin-bottom:12px}.fake-img p{font-family:monospace;color:white;text-align:left;margin:12px 0;text-align:center;font-size:16px}</style> </head> <body> <d-front-matter> <script async type="text/json">{
      "title": "Reproducibility: on why and how",
      "description": "Discussing the importance of reproducibility and how to address it",
      "published": "November 17, 2022",
      "authors": [
        {
          "author": "Mohammad Arvan",
          "authorURL": "https://mo-arvan.github.io/",
          "affiliations": [
            {
              "name": "Department of Computer Science, University of Illinois at Chicago",
              "url": ""
            }
          ]
        }
        
      ],
      "katex": {
        "delimiters": [
          {
            "left": "$",
            "right": "$",
            "display": false
          },
          {
            "left": "$$",
            "right": "$$",
            "display": true
          }
        ]
      }
    }</script> </d-front-matter> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Mohammad </span>Arvan</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/personal/">personal</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/teaching/">teaching</a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people</a> </li> <li class="nav-item"> <a class="nav-link" href="https://mo-arvan.github.io/assets/pdf/resume.pdf"> cv </a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="post distill"> <d-title> <h1>Reproducibility: on why and how</h1> <p>Discussing the importance of reproducibility and how to address it</p> </d-title> <d-byline></d-byline> <d-article> <d-contents> <nav class="l-text figcaption"> <h3>Contents</h3> <div><a href="#introduction">Introduction</a></div> <div><a href="#the-sources-of-irreproducibility">The Sources of Irreproducibility</a></div> <div><a href="#solving-reproducibility">Solving Reproducibility</a></div> <div><a href="#beyond-reproducibility">Beyond Reproducibility</a></div> </nav> </d-contents> <p><strong>NOTE:</strong> This is an early draft and will be updated in the future.</p> <h2 id="introduction">Introduction</h2> <p>Let’s go over a scenario. You are just starting your research, trying to select a topic. You come across some interesting paper and you try to implement it yourself. Everything seems to be worse than what it is being reported. Lucky you, the source code is already available on GitHub. After spending hours trying to figure out what is going on in someone else’s code, you figure out a few steps that haven’t been reported. It is hard to figure out which one is causing the disparity. You try to follow the instructions, again, you run into several issues ranging from missing files and dependency hell. After spending hours, or even days, you finally get the code to run, but still it is worse than the numbers reported.</p> <p>Now, if you think that is not fun, we are on the same page. What is surprizing is that researchers have equally a hard time reproducing their own work. A time that would have been better spend on coming out with new cool ideas has to be spend on debugging what is causing the issue in the first place.</p> <p>With increased reliance on empirical evidence, the foundation of today’s research has become the most fragile it has ever been. Reproducibility has been recognized as one of the desirable characteristics of science by Open Science Initiative of United Nations Educational, Scientific and Cultural Organization (UNESCO). Let’s go over what are some potential causes of irreproducibility.</p> <h2 id="the-sources-of-irreproducibility">The Sources of Irreproducibility</h2> <p>There doesn’t seem to be a known list of potential causes of irreproducibility (yet ;) ), let’s try to list them here. I could thing of three potential causes:</p> <h3 id="human-error"><strong>Human Error</strong></h3> <p>Missing files, missing scripts, typos, local variables that are not pushed to the repository, etc. This category is the messiest, yet it is one of the easiest to resolve. It requires a bit of communication and collaboration between the authors and the reviewers.</p> <h3 id="behavior-changes-in-the-libraries-used"><strong>Behavior Changes in the Libraries Used</strong></h3> <p>Research is a fast-paced field, and libraries are constantly being updated. This is a double-edged sword, on one hand, it is good to have the latest and greatest, on the other hand, it can cause the code to break. This is a hard problem to solve, and it is not clear what is the best way to deal with it. Sometimes, you can’t even figure out which version of the library the authors were using. You will have to try different versions and see which one works!!! Or, you could end up in a dependency hell. I can tell you from personal experience that name is not an exaggeration. It is a nightmare to deal with. This is a well-known problem in the software development community. It is not uncommon to see a project that is not maintained anymore, and it is hard to find the dependencies that are needed to run the code. This is a problem that is not limited to the research community. It is a problem that is shared by the software development community. You could even end up code that was used for older generation GPUs, and you are trying to run it on a newer generation GPU. That is a whole different story.</p> <h3 id="other"><strong>OTHER?</strong></h3> <p>Unfortunately, we are not done yet. Did you know that besides hyperparameters, architecture, and model’s initial weights, there are other factors that can affect the results? For example, the order of the data points in the training set. In a recent study, I found that random seed had higher impact on the performance than all the changes that the authors were proposing to improve the performance. This is the most challenging problem to solve. Some suggest using statistical significance analysis (e.g. bootstrap test). I tried it, it didn’t work.</p> <p>We will discuss potential solutions in the next section.</p> <h2 id="solving-reproducibility">Solving Reproducibility</h2> <p>Yeah, that is not going to happen anytime soon. I would argue we can’t even completely eliminate the first issue, the human error, but we can find and fix it with a different approach than what we are currently doing.</p> <p>Part of the problem is an engineering issue, and requires all of us to come together as a community; we need to hold ourselves to a higher standard.</p> <p>We have to remember, engineering has become a part of our research these days, when we release the source code, we are not doing a world a favor, that is part of our job. Especially scientific publications that rely on empirical evidence, if there is no empirical data, then what is left?</p> <p>Ultimately, using self-contained artifacts would resolve most of category 1 and 2 issues.</p> <p>We don’t know a ton about category 3 issues, but that is part of my research proposal. It seems like the only solution is to report variance without eliminating bias.</p> <p>Once all is set and done, we should be on the same page as the authors, meaning, both results should be within a an acceptable margin of error. Horray, we’re done, right?</p> <h2 id="beyond-reproducibility">Beyond Reproducibility</h2> <p>Not really, we did all that in order to be able to investigate the claims. At this point, if we’re are following every single step and still not achieving the same results, either the authors or us are making a mistake. The hardest bugs to identify are irreproducible ones. This is the point we can dig deeper and investigate other causes. In a recent work, I found 3 major bugs affecting a 5 year old publication with more than 300 citations. This leads me to believe the presence of bugs are more common than we think, especially since a buggy network would still work.</p> </d-article> <d-appendix> <d-footnote-list></d-footnote-list> <d-citation-list></d-citation-list> </d-appendix> <d-bibliography src="/assets/bibliography/2018-12-22-distill.bib"></d-bibliography> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2023 Mohammad Arvan. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. Last updated: September 28, 2023. </div> </footer> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>